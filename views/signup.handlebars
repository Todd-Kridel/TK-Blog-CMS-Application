

<form id="signup_form">
<div class="bordered_section_heading">
  <br>
  <h2 class="">SIGN-UP FORM</h2>
  <br>
</div>
<div class="bordered_section_body">
  <br>
  <div>
    <label for="first_name">First Name:</label>
    <input id="first_name" class="" type="text" placeholder="First Name"/>
  </div>
  <br>
  <div class="">
    <label for="last_name">Last Name:</label>
    <input id="last_name" class="" type="text" name="last_name" placeholder="Last Name"/>
  </div>
  <br>
  <div class="">
    <label for="email_address">Email Address:</label>
    <input  id="email_address" class="" type="text" name="email_address" placeholder="Email"/>
  </div>
  <br>
  <div class="">
    <label for="password">Password:</label>
    <input id="password" class="" type="password" name="password" placeholder="Password"/>
  </div>
  <br>
  <div class="">
    <button id="signup_form_button" class="" type="button">
      &nbsp;Sign-Up&nbsp;
    </button>
  </div>
  <br>
</div>
<br>
</form>
<br>
<p><a href="/logon">Or log-on to an existing user account.</a></p>


<script>


const signupFormEventHandler = async (event) => {
event.preventDefault();
const first_name = document.querySelector("#first_name").value.trim();
const last_name = document.querySelector("#last_name").value.trim();
const email_address = document.querySelector("#email_address").value.trim();
const password = document.querySelector("#password").value.trim();
if (first_name && last_name && email_address && password) {
  const response = await fetch("/api/user/create", {
    method: "POST",
    body: JSON.stringify({first_name, last_name, email_address, password}),
    headers: {"Content-Type": "application/json"},
  });
  if (response.ok) {
    alert("Your new user account has successfully been created. You now can log-on with your specified user information.");
    document.location.replace("/logon");
  } 
  else {
    alert("ERROR: A new user record could not be created.");
  }
}
};


document.querySelector("#signup_form_button").addEventListener("click", signupFormEventHandler);


</script>

